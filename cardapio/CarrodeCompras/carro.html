<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho de compras</title>
    <link rel="stylesheet" href="../CarrodeCompras/carro.css">

<div id="itens"> </div>
<div id="total">
<p>Total:</p>
</div>
<script>
 
 var total = 0; 
    var i = 0;  
    var valor = 0; 
    
    for(i=1; i<=20; i++) // verifica até 20 produtos na localStorage
    {
        var prod = localStorage.getItem("produto" + i + ""); // verifica se há produtonesta posição
        if(prod != null) 
        {	
            // exibe os dados dos itens
            document.getElementById("itens").innerHTML += localStorage.getItem("qtd" + i) + " x ";
            document.getElementById("itens").innerHTML += localStorage.getItem("produto" + i);
            document.getElementById("itens").innerHTML += " ";
            document.getElementById("itens").innerHTML += "R$: " + localStorage.getItem("valor" + i) + "<hr>";
            
            // calcula o total
            valor = parseFloat(localStorage.getItem("valor" + i)); 
            total = (total + valor); 
        }
    } 
    // total da compra
    document.getElementById("total").innerHTML = total.toFixed(2); 
</script>

<button type="button" onclick=" localStorage.clear(); location.reload();"> Limpar carrinho </button>